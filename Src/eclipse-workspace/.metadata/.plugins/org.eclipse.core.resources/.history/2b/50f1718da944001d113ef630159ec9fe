package Divide_Conquer;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class P5_14601 {
	private static BufferedReader sc = new BufferedReader(new InputStreamReader(System.in));
	private static StringBuilder sb = new StringBuilder();
	
	private static int[][] A;
	private static int num, N, x, y;
	
	public static void main(String[] args) throws IOException {
		System.out.println(0!=0);
		StringTokenizer st;
		N = Integer.parseInt(sc.readLine());
		N = (int)Math.pow(2, N);
		A = new int[N+1][N+1];
		
		st = new StringTokenizer(sc.readLine());
		x = Integer.parseInt(st.nextToken());
		y = Integer.parseInt(st.nextToken());
			
		A[x][y] = -1;
			
		solve(1, 1, N);
		print();
	}
	
	public static void print(){
        for(int i=1;i<=N;i++){
            for(int j=1;j<=N;j++){
                System.out.printf(A[i][j]+" ");
            }
            System.out.println();
        }
        System.out.println();
    }
	
	private static void solve(int x, int y, int size) {
		
		// 
		num++;
        int ns=size/2;
        
        // 각각 1, 3, 2, 4 사분면에 대해 구멍(-1)인지 아닌지
        // 확인하는 check() 메서드를 수행한다.
        if(check(x,y,ns)) A[x+ns-1][y+ns-1]=num;
        if(check(x+ns,y,ns)) A[x+ns][y+ns-1]=num;
        if(check(x,y+ns,ns)) A[x+ns-1][y+ns]=num;
        if(check(x+ns,y+ns,ns)) A[x+ns][y+ns]=num;
        print();

        if(size==2) return;

        solve(x,y,ns);
        solve(x+ns,y,ns);
        solve(x,y+ns,ns);
        solve(x+ns,y+ns,ns);
	}
	
	public static boolean check(int x,int y,int size){
        for(int i=x; i<x+size; i++){
            for(int j=y; j<y+size; j++){
                if(A[i][j] != 0) return false;
            }
        }
        return true;
    }
}